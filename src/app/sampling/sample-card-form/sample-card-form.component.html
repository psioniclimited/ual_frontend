<p-tabMenu [model]="items"></p-tabMenu>

<p-card>
  <form class=" ui-fluid ui-g" [formGroup]="sampleCardForm" (ngSubmit)="onSubmit()">
    <div class="ui-md-3 ui-g-3 form-group ">
      <div class="">
        <label for="artwork_id">Reference No</label>
        <p-autoComplete
          [suggestions]="artworks"
          (completeMethod)="filterArtwork($event)"
          (onSelect)="selectArtwork($event)"
          field="reference_number"
          id="artwork_id"
          [size]="15"
          placeholder="Hint: type a reference number"
          [dropdown]="true"
          [minLength]="1"
          formControlName="artwork_id">
        </p-autoComplete>
      </div>
    </div>
    <div class="ui-md-3 ui-g-3 form-group ">
      <div class=" ">
        <label for="client">Client</label>
        <input type="text" id="client" class="form-control"
               pInputText placeholder="Enter Client"
               name="client"
               [value]="clientName">
      </div>
    </div>
    <div class="ui-md-3 ui-g-3  form-group ">
      <div class="  ">
        <label for="file_name">File Name</label>
        <input type="text" id="file_name" class="form-control"
               pInputText placeholder="Enter File Name"
               name="file_name"
               formControlName="filename"
               [ngModel]="editSampleCard.filename">
      </div>
    </div>
    <div class="ui-md-3 ui-g-3 form-group ">
      <div class="  ">
        <label for="combo">Combo</label>
        <p-dropdown [options]="combos"
                    optionLabel="name"
                    id="combo"
                    name="combo"
                    [style]="{'width':'100%'}"
                    [showClear]="true"
                    formControlName="combo_id"
                    [ngModel]="editSampleCard.combo_id"
                    >
          <ng-template let-item pTemplate="selectedItem">
            <span style="vertical-align:middle">{{item.label}}</span>
          </ng-template>
          <ng-template let-combo pTemplate="item">
            <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
              <div style="font-size:14px;margin-top:4px">{{combo.label}}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
    </div>
    <div class="ui-md-2 ui-g-2 form-group ">
      <div class="">
        <label for="beams">Add Beam</label>
        <p-dropdown [options]="beams"
                    placeholder="Select Beam"
                    optionLabel="name"
                    [style]="{'width':'100%'}"
                    id="beams"
                    formControlName="beam"
                    [ngModel]="editSampleCard.beam"
                    [showClear]="true"></p-dropdown>
      </div>
    </div>
    <div class="ui-md-2 ui-g-2 form-group ">
      <div class="">
        <label for="beams">Cut</label>
        <p-dropdown [options]="cuts"
                    placeholder="Select Cut"
                    optionLabel="name"
                    [style]="{'width':'100%'}"
                    id="cut"
                    formControlName="cut_id"
                    [ngModel]="editSampleCard.cut_id"
                    [showClear]="true"></p-dropdown>
      </div>
    </div>
    <div class="ui-md-2 ui-g-2 form-group ">
      <div class="  ">
        <label for="picks">Picks</label>
        <input type="text" id="picks" class="form-control"
               pInputText placeholder="Enter picks"
               name="combo" formControlName="picks" [ngModel]="editSampleCard.picks">
      </div>
      <small *ngIf="!sampleCardForm.controls['picks'].valid && sampleCardForm.controls['picks'].touched">
        Picks is required
      </small>
    </div>
    <div class="ui-md-2 ui-g-2 form-group ">
      <div class="  ">
        <label for="repeats">Repeats/HR</label>
        <input type="text" id="repeats" class="form-control"
               pInputText placeholder="Enter repeats"
               name="repeats" formControlName="repeats" [ngModel]="editSampleCard.repeats">
      </div>
      <small *ngIf="!sampleCardForm.controls['repeats'].valid && sampleCardForm.controls['repeats'].touched">
        Repeats is required
      </small>
    </div>
    <div class="ui-md-3 ui-g-3 form-group ">
      <div class="  ">
        <label for="width">Width</label>
        <input type="text" id="width" class="form-control"
               pInputText placeholder="Enter width"
               name="width" formControlName="width" [ngModel]="editSampleCard.width">
      </div>
      <small *ngIf="!sampleCardForm.controls['width'].valid && sampleCardForm.controls['width'].touched">
        Width is required
      </small>
    </div>
    <div class="ui-md-3 ui-g-3 form-group ">
      <div class="  ">
        <label for="length">Length</label>
        <input type="text" id="length" class="form-control"
               pInputText placeholder="Enter length"
               name="length" formControlName="length" [ngModel]="editSampleCard.length">
      </div>
      <small *ngIf="!sampleCardForm.controls['length'].valid && sampleCardForm.controls['length'].touched">
        Length is required
      </small>
    </div>
    <div class="ui-md-2 ui-g-2 form-group ">
      <div class="  ">
        <label for="ttl_picks">TTL Picks</label>
        <input type="text" id="ttl_picks" class="form-control"
               pInputText placeholder="Enter TTL picks"
               name="ttl_picks" formControlName="ttl_picks" [ngModel]="editSampleCard.ttl_picks">
      </div>
      <small *ngIf="!sampleCardForm.controls['ttl_picks'].valid && sampleCardForm.controls['ttl_picks'].touched">
        TTL Picks is required
      </small>
    </div>
    <div class="ui-md-9 ui-g-9 form-group ">
      <div class="  ">
        <label for="label_desc">Label Description</label>
        <input type="text"
               id="label_desc"
               class="form-control"
               pInputText
               placeholder="Enter label description"
               name="label_desc"
               formControlName="description"
               [ngModel]="editSampleCard.description">
      </div>
      <small *ngIf="!sampleCardForm.controls['description'].valid && sampleCardForm.controls['description'].touched">
        Description is required
      </small>
    </div>
    <div class="ui-md-3 ui-g-3 form-group ">
      <div class="  ">
        <label for="date">Date</label>
        <p-calendar [monthNavigator]="true"
                    [yearNavigator]="true"
                    yearRange="2000:2030"
                    dateFormat="dd-mm-yy"
                    id="date"
                    name="date"
                    formControlName="date"></p-calendar>
      </div>
      <small *ngIf="!sampleCardForm.controls['date'].valid && sampleCardForm.controls['date'].touched">
        Date is required
      </small>
    </div>

    <app-sample-card-detail
      [cols]="cols"
      [cardDetails]="cardDetails">
    </app-sample-card-detail>

    <div class="ui-md-12 ui-g-12 form-group ">
      <div class="  ">
        <label for="note">Note</label>
        <input type="text" id="note" class="form-control"
               pInputText placeholder="Enter note"
               name="note" formControlName="note" [ngModel]="editSampleCard.note">
      </div>
      <small *ngIf="!sampleCardForm.controls['note'].valid && sampleCardForm.controls['note'].touched">
        Note is required
      </small>
    </div>
    <button class="submit-color" name="basic" pButton type="submit" label="Submit" [disabled]="!sampleCardForm.valid"></button>

  </form>
  <p-dialog header="Artwork Image" [(visible)]="artworkImageUrl">
    <img *ngIf="artworkImageUrl" [src]="artworkImageUrl">
  </p-dialog>
</p-card>
